(function(e){function t(t){for(var s,o,i=t[0],u=t[1],l=t[2],d=0,p=[];d<i.length;d++)o=i[d],a[o]&&p.push(a[o][0]),a[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},a={app:0},n=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var s=r("64a9"),a=r.n(s);a.a},1:function(e,t){},"12a3":function(e,t,r){},2:function(e,t){},3:function(e,t){},4:function(e,t){},4045:function(e,t,r){e.exports=r.p+"img/loading.6c736abe.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var s=r("2b0e"),a=(r("435e"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[r("router-link",{staticClass:"btn btn-primary btn-lg home-link home",attrs:{to:{name:"home"},role:"button"}},[e._v("Home")]),r("router-link",{staticClass:"btn btn-primary btn-lg signup-link",attrs:{to:{name:"signup"},role:"button"}},[e._v("Sign Up")]),r("router-link",{staticClass:"btn btn-primary btn-lg login-link",attrs:{to:{name:"login"},role:"button"}},[e._v("Login")])],1),r("router-view",{staticClass:"container pt-2"})],1)}),n=[],o=(r("034f"),r("2877")),i={},u=Object(o["a"])(i,a,n,!1,null,null,null),l=u.exports,c=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",{staticClass:"jumbotron text-center"},[r("h1",{staticClass:"display-3"},[e._v("Authentication!")]),r("p",{staticClass:"lead"},[e._v("Learn Auth is fun! (I really think so)")]),r("hr",{staticClass:"my-4"}),r("p",[e._v("My patience and I working together!   LOL     ~~Hello from the past.~~")]),r("p",{staticClass:"lead mt-4"},[e.user?e._e():r("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:{name:"signup"},role:"button"}},[e._v("Sign Up")]),e.user?r("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:{name:"dashboard"},role:"button"}},[e._v("Go to dashboard")]):e._e()],1)])])},p=[],m="https://jwtauthbackend.herokuapp.com/",h={data:function(){return{user:null}},mounted:function(){var e=this;fetch(m,{headers:{authorization:"Baerer ".concat(localStorage.token)}}).then(function(e){return e.json()}).then(function(t){t.user?e.user=t.user:e.logout()})},name:"home"},g=h,f=Object(o["a"])(g,d,p,!1,null,null,null),v=f.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"signupPage"},[s("h1",{staticClass:"text-center"},[e._v("Sign Up")]),e.showLoading?s("div",{staticClass:"loadingIcon"},[s("img",{attrs:{src:r("4045"),alt:""}})]):e._e(),s("div",{staticClass:"errorMessage",class:{"alert alert-danger":this.errorMessage},attrs:{role:"alert"}},[e._v(e._s(this.errorMessage))]),e.showLoading?e._e():s("form",{on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text","data-js":"a",id:"username","aria-describedby":"usernameHelp",placeholder:"Enter your username",required:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),s("h6",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[e._v("\n        Username must be longer than 2 characteres and shorter than 30.\n        Username can only contain alphanumeric characteres and under_scores.\n      ")])]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-6"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password","aria-describedby":"passwordHelp",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),s("h6",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[e._v("Password must be 10 or more characteres long.")])]),s("div",{staticClass:"form-group col-md-6"},[s("label",{attrs:{for:"confirmPassword"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword",placeholder:"Confirm Password","aria-describedby":"confirmPasswordHelp",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}}),s("h6",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[e._v("Please confirm your password.")])])]),s("button",{staticClass:"btn btn-primary btn-signup-login",attrs:{type:"submit"}},[e._v("Sign Up")])]),e.showLoading?e._e():s("div",{staticClass:"text-center mt-4 login-signup-haveornot"},[s("h5",[e._v("Already have an account?")]),s("router-link",{attrs:{to:{name:"login"},role:"button"}},[e._v("Login")])],1)])},w=[],_=(r("6762"),r("2fdb"),r("f499")),y=r.n(_),C=(r("6b54"),r("ac6a"),r("f0b1")),x=r.n(C),k="https://jwtauthbackend.herokuapp.com/auth/signup",E=x.a.object().keys({username:x.a.string().regex(/(^[a-zA-Z0-9_]+$)/).min(2).max(30).required(),password:x.a.string().min(10).trim().required(),confirmPassword:x.a.string().min(10).trim().required()}),P={data:function(){return{errorMessage:"",user:{username:"",password:"",confirmPassword:""},showLoading:!1}},watch:{user:{handler:function(){this.errorMessage=""},deep:!0}},methods:{signup:function(){var e=this;if(this.errorMessage="",this.showLoading=!0,this.validUser()){var t={username:this.user.username.toString(),password:this.user.password.toString()};fetch(k,{method:"POST",body:y()(t),headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw new Error(e.message)})}).then(function(t){localStorage.token=t.token,e.showLoading=!1,e.$router.push("/dashboard")}).catch(function(t){e.showLoading=!1,e.errorMessage=t.message})}else this.showLoading=!1},validUser:function(){if(this.user.password!==this.user.confirmPassword)return this.errorMessage="Passwords must match.",!1;var e=x.a.validate(this.user,E);return null===e.error?(this.errorMessage="",!0):(e.error.message.includes("username")?this.errorMessage="Invalid username.":this.errorMessage="Invalid password.",!1)}}},j=P,M=(r("e42b"),Object(o["a"])(j,b,w,!1,null,null,null)),L=M.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"loginPage"},[s("h1",{staticClass:"text-center"},[e._v("Login")]),e.showLoading?s("div",{staticClass:"loadingIcon"},[s("img",{attrs:{src:r("4045"),alt:""}})]):e._e(),s("div",{staticClass:"errorMessage",class:{"alert alert-danger d-sm":this.errorMessage},attrs:{role:"alert"}},[e._v(e._s(this.errorMessage))]),e.showLoading?e._e():s("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text","data-js":"a",id:"username","aria-describedby":"usernameHelp",placeholder:"Enter your username",required:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),s("h6",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[e._v("Enter username to login.")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password","data-js":"a",id:"password","aria-describedby":"passwordHelp",placeholder:"Enter your password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),s("h6",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[e._v("Enter password to login.")])]),s("button",{staticClass:"btn btn-primary btn-signup-login",attrs:{type:"submit"}},[e._v("Login")])]),e.showLoading?e._e():s("div",{staticClass:"text-center mt-4 login-signup-haveornot"},[s("h5",[e._v("Not have an account?")]),s("router-link",{attrs:{to:{name:"signup"},role:"button"}},[e._v("Signup")])],1)])},O=[],$="https://jwtauthbackend.herokuapp.com/auth/login",H=x.a.object().keys({username:x.a.string().regex(/(^[a-zA-Z0-9_]+$)/).min(2).max(30).required(),password:x.a.string().min(10).trim().required()}),U={data:function(){return{errorMessage:"",user:{username:"",password:""},showLoading:!1}},methods:{login:function(){var e=this;this.showLoading=!0,setTimeout(function(){if(e.validUser()){var t={username:e.user.username.toString(),password:e.user.password.toString()};fetch($,{method:"POST",body:y()(t),headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw new Error(e.message)})}).then(function(t){localStorage.token=t.token,setTimeout(function(){e.showLoading=!1,e.$router.push("/dashboard")},500)}).catch(function(t){setTimeout(function(){e.showLoading=!1,e.errorMessage=t.message},500)})}else e.showLoading=!1},10)},validUser:function(){var e=x.a.validate(this.user,H);return null===e.error?(this.errorMessage="",!0):(e.error.message.includes("username")?this.errorMessage="Invalid username.":this.errorMessage="Invalid password.",!1)}},watch:{user:{handler:function(){this.errorMessage=""},deep:!0}}},q=U,I=(r("d6db"),Object(o["a"])(q,S,O,!1,null,null,null)),T=I.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("h1",{staticClass:"text-center"},[e._v("YEEEEEEEEEEEEEEEEEEY DUDE!!!!!!!!!!")]),e.user?e._e():r("h1",[e._v("Getting user information...")]),e.user?r("h1",[e._v("Hello back, "+e._s(e.user.username)+"!!!")]):e._e(),r("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.logout()}}},[e._v("Logout")])])},A=[],z="https://jwtauthbackend.herokuapp.com/",D={data:function(){return{user:null}},mounted:function(){var e=this;fetch(z,{method:"GET",headers:{authorization:"Baerer ".concat(localStorage.token)}}).then(function(e){return e.json()}).then(function(t){t.user?e.user=t.user:e.logout()})},methods:{logout:function(){localStorage.removeItem("token"),this.$router.push("/login")}}},G=D,B=Object(o["a"])(G,N,A,!1,null,null,null),J=B.exports;s["a"].use(c["a"]);var Y=function(e,t,r){localStorage.token?r("/dashboard"):r()},Z=function(e,t,r){localStorage.token?r():r("/login")},F=new c["a"]({routes:[{path:"/",name:"home",component:v},{path:"/signup",name:"signup",component:L,beforeEnter:Y},{path:"/login",name:"login",component:T,beforeEnter:Y},{path:"/dashboard",name:"dashboard",component:J,beforeEnter:Z}]});s["a"].config.productionTip=!1,new s["a"]({router:F,render:function(e){return e(l)}}).$mount("#app")},"64a9":function(e,t,r){},a9e7:function(e,t,r){},d6db:function(e,t,r){"use strict";var s=r("a9e7"),a=r.n(s);a.a},e42b:function(e,t,r){"use strict";var s=r("12a3"),a=r.n(s);a.a}});
//# sourceMappingURL=app.a854c784.js.map